# majority_game

⬡ Majority — стратегическая настольная игра на захват клеток.

В репозитории есть:
- `majority_game.html` — одиночный прототип с ИИ (открывается прямо в браузере)
- LAN-сервер на Flask для совместной игры (до 5 игроков)

## Правила игры

1. **Цель**: Захватить больше клеток, чем соперники
2. **Ход**: Поставьте фишку на пустую клетку
3. **Захват**: Вражеская клетка захватывается, если среди её 8 соседей **ваших фишек строго больше**, чем вражеских
4. **Каскад**: Захваты могут порождать новые захваты
5. **Первый ход**: В начале игры нельзя ставить клетку рядом с вражеской

### Индикаторы

- **!** (восклицательный знак) — клетка под угрозой захвата
- Анимация переворота при захвате клетки
- Пульсирующая точка перед захватом

## Быстрый старт (LAN)

### 1. Установка

```bash
# Клонируйте репозиторий
git clone https://github.com/PsychologAnton/majority_game.git
cd majority_game

# Создайте виртуальное окружение
python -m venv venv

# Активируйте его:
# Windows:
venv\Scripts\activate
# Linux/macOS:
# source venv/bin/activate

# Установите зависимости
pip install -r requirements.txt
```

### 2. Запуск сервера

```bash
python run.py
```

### 3. Подключение

Откройте в браузере:

- **На хосте**: `http://localhost:5000`
- **На других устройствах в сети**: `http://<IP-адрес-хоста>:5000`

**Как узнать IP-адрес хоста:**

```bash
# Windows:
ipconfig

# Linux/macOS:
ifconfig
# или
ip addr
```

Ищите адрес вида `192.168.x.x`

## Одиночная игра с ИИ

Просто откройте файл `majority_game.html` в браузере — никакого сервера не нужно!

ФунCaции:
- Игра против ИИ (лёгкий/средний/сложный)
- Выбор размера поля (6×6, 8×8, 10×10, 16×16)
- Вкл/выкл каскадных захватов
- Все визуальные эффекты и анимации

## Возможности LAN-версии

- ✅ Ввод никнейма
- ✅ Выбор формата игры (8×8, 10×10, 16×16)
- ✅ Создание лобби и ожидание соперников
- ✅ Присоединение по коду или из списка открытых лобби
- ✅ До 5 игроков в одном лобби
- ✅ Полная игровая логика с всеми правилами
- ✅ Все стили, анимации и индикаторы из прототипа

## Структура проекта

```
majority_game/
├── majority_game.html    # Одиночный прототип
├── run.py                  # Запуск сервера
├── requirements.txt        # Зависимости Python
└── server/
    ├── app.py              # Flask приложение
    ├── game_engine.py      # Логика игры
    ├── lobby_store.py      # Управление лобби
    ├── templates/
    │   ├── index.html       # Главная страница
    │   ├── lobby.html       # Лобби ожидания
    │   └── game.html        # Игровая страница
    └── static/
        └── app.css
```

## Лицензия

MIT
